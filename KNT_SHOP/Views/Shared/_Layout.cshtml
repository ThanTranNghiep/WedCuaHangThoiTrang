@using KNT_SHOP.Models
@model KNT_SHOP.Models.TaiKhoan
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - My ASP.NET Application</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <link href="~/Content/css/header_footer_layout.css" rel="stylesheet"/>
    <script src="~/Content/js/header_footer_layout.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/5e1dfe1c35.js" crossorigin="anonymous"></script>

    @* ================= css home/index ============= *@
    <link rel="stylesheet" href="~/Content/css/HomeIndex.css">
    <script src="~/Content/js/HomeIndex.js"></script>
    @* ============================================== *@


</head>
<body>
<div class="topnav" id="myTopnav">
    @{
        var urlSanPham = Url.Action("SanPham", "Home");
    }
    <a href="" class="active">Trang Chủ</a>
    <a href="@urlSanPham">Sản Phẩm</a>
    <a href="#tryon">Thử Đồ</a>
    <a href="#fill">Bộ Lọc</a>
    <a href="#cart">
        <i class="fa fa-shopping-cart"></i>
        Giỏ hàng
    </a>
    <a id="show-dialog" onclick="showLoginDialog()">
        Tài Khoản
    </a>
    <div class="search-box " style="margin-right: 35px">
        <input class="txtSearch" type="search" placeholder="Search"/>
        <button class="btn-search">
            <i class="fa fa-search"></i>
        </button>
    </div>
    <a href="javascript:void(0);" class="icon" onclick="myFunction()">
        <i class="fa fa-bars"></i>
    </a>
</div>
@* ============ DIALOG ============ *@
@{
    var username = Session["username"];
    var token = Session["token"];
}
<div class="container" id="container-dialog">
    @if (token != null)
    {
        <dialog id="login-dialog">
            <div class="mb-3 form-control">
                <label class="form-control">Tên Tài Khoản: <span> @Html.DisplayFor(@model => @model.TenTaiKhoan)</span> </label>
                <label class="form-control">Email: <span>@Html.DisplayFor(@model => @model.Email) </span> </label>
                <label class="form-control">
                    Giới Tính:
                    @{
                        int gt = int.Parse(@Html.DisplayFor(@model => @model.GioiTinh).ToString().Trim());
                        string ngayTao = @Html.DisplayFor(@model => @model.NgayTao).ToString().Trim().Split(' ')[0];
                    }
                    @if (gt == 1)
                    {
                        <span>Nam</span>
                    }
                    else
                    {
                        <span>Nữ</span>
                    }
                </label>
                <label class="form-control">Ngày Tạo: <span>@ngayTao</span> </label>
                <label class="form-control">Địa Chỉ: <span>@Html.DisplayFor(@model => @model.DiaChiNha)</span> </label>
                <label class="form-control">Số Điện Thoại: <span>@Html.DisplayFor(@model => @model.SĐT)</span> </label>
            </div>
            <button id="close-dialog" class="btn btn-secondary" onclick="closeLoginDialog()">Close</button>
            <buton id="logout" class="btn btn-primary" onclick="Logout()">Logout</buton>
        </dialog>
    }
    else
    {
        <dialog id="login-dialog">
            <form method="post" class="login_form">
                <div>
                    <h2 class="login_title">
                        Welcome to <span>KNT Shop</span>
                    </h2>
                    <p class="login_description">
                        Welcome! Please login to your account.
                    </p>
                </div>
                <div>
                    <div class="login_inputs">
                        <div>
                            <label for="" class="login_label">Username</label>
                            @Html.TextBox("Username", "", new { @id = "Username", @class = "login_input", @placeholder = "Username" })
                        </div>

                        <div>
                            <label for="" class="login_label">Password</label>
                            <div class="login_box">
                                @Html.Password("Password", "", new { @id = "input-pass", @class = "login_input", @placeholder = "Password" })
                                <i class="ri-eye-off-line login-eye" id="input-icon"></i>

                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="login_buttons">
                        <button type="submit" id="btn-login" class="login_button" formmethod="post">Login</button>
                        <button type="button" id="btn-signup" class="login_button login_button-ghost" onclick="RegisterClick()">SignUp</button>
                    </div>
                </div>

            </form>
        </dialog>
    }

</div>
<style>
        #show-dialog {
            color: #f2f2f2;
            cursor: pointer;
        }

            #show-dialog:hover {
                color: black;
            }
    </style>
@*===================== Dialog js ================== *@
<script src="~/Content/js/Dialog.js"></script>
@* ===================== body ===================================*@
<div class="container body-content">
    @RenderBody()
    <hr/>
    <footer>
        <p>&copy; @DateTime.Now.Year - My ASP.NET Application</p>
    </footer>
</div>

@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap")
@RenderSection("scripts", required: false)
</body>
</html>